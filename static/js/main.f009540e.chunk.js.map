{"version":3,"sources":["redux/clicked-product.ts","redux/clicked-coord.ts","redux/screen.ts","redux/reducers.ts","redux/store.ts","utils/index.ts","data/vertices.ts","data/products.ts","components/name.tsx","components/price.tsx","components/canvas.tsx","components/product-item.tsx","components/product-list.tsx","pages/home.tsx","envs.ts","pages/section.tsx","hooks/use-window-size.ts","App.tsx","index.tsx"],"names":["clickedProduct","createSlice","name","initialState","reducers","setClickedProduct","_","action","payload","actions","clickedCoord","setClickedCoord","screen","width","window","height","setScreen","rootReducer","combineReducers","store","configureStore","reducer","devTools","process","floor2","n","Math","floor","isMobile","innerWidth","numberWithCommas","x","toString","replace","vertices","map","innerList","point","y","products","price","section","area","realPrice","link","v","verticesInSection","newArea","v2","coords","reduce","prev","curr","totalX","totalY","avgX","length","avgY","sort","lhs","rhs","lhsAngle","atan2","rhsAngle","sortCoordClockwise","Title","Name","tmp","useSelector","state","href","rel","target","style","textAlign","level","Price","priceStr","realPriceStr","ratio","textDecoration","Canvas","polygons","onClick","canvasRef","useRef","useEffect","canvas","current","context","getContext","clearRect","forEach","ctx","polygon","fillStyle","strokeStyle","lineWidth","beginPath","i","realX","realY","moveTo","lineTo","closePath","save","clip","fill","stroke","restore","drawPolygon","onClick2","useCallback","e","currentTarget","getBoundingClientRect","clientX","left","clientY","top","ref","product","className","renderItem","index","key","header","ProductList","props","list","Search","menuItems","Array","from","keys","Item","to","menu","HomePage","useState","page","setPage","query","setQuery","PAGE_SIZE","onQueryChange","event","value","filtered","filter","p","includes","sliced","slice","total","enterButton","onChange","overlay","placement","type","pageSize","size","SectionPage","dispatch","useDispatch","parseInt","useParams","windowWidth","setSize","useLayoutEffect","updateSize","innerHeight","addEventListener","removeEventListener","useWindowSize","divRef","imgSrc","onCanvasClick","coord","newClickedProduct","find","crosses","j","atX","coordInPolygon","findClickedProduct","div","newHeight","clientWidth","useMemo","clickedProductToPolygon","backgroundImage","App","basename","exact","path","component","render","ReactDOM","document","getElementById"],"mappings":"+RAGMA,EAAiBC,YAAY,CACjCC,KAAM,iBACNC,aAAc,KACdC,SAAU,CACRC,kBADQ,SACUC,EAAGC,GACnB,OAAOA,EAAOC,YAKLH,EAAsBL,EAAeS,QAArCJ,kBACAL,IAAf,QCXMU,EAAeT,YAAY,CAC/BC,KAAM,eACNC,aAAc,KACdC,SAAU,CACRO,gBADQ,SACQL,EAAGC,GACjB,OAAOA,EAAOC,YAMLE,GADoBA,EAAaD,QAAjCE,gBACAD,EAAf,SCZME,EAASX,YAAY,CACzBC,KAAM,SACNC,aAAc,CAAEU,MAAOC,OAAOF,OAAOC,MAAOE,OAAQD,OAAOF,OAAOG,QAClEX,SAAU,CACRY,UADQ,WAEN,MAAO,CAAEH,MAAOC,OAAOF,OAAOC,MAAOE,OAAQD,OAAOF,OAAOG,YAMlDH,GADcA,EAAOH,QAArBO,UACAJ,EAAf,SCCeK,EARKC,YAAgB,CAClClB,iBACAU,eACAE,WCEaO,EAPDC,YAAe,CAC3BC,QAASJ,EACTK,UAAUC,I,sICJCC,EAAS,SAACC,GAAD,OAAeC,KAAKC,MAAU,IAAJF,GAAW,KAC9CG,EAAW,kBAAMd,OAAOe,WAAa,KAE3C,SAASC,EAAiBC,GAC/B,OAAOA,EAAEC,WAAWC,QAAQ,wBAAyB,KCJvD,IAmHeC,EAnHmB,CAChC,CACE,CAAC,KAAM,MACP,CAAC,MAAO,MACR,CAAC,MAAO,MACR,CAAC,MAAO,MAER,CAAC,KAAM,OACP,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OAER,CAAC,KAAM,OACP,CAAC,MAAO,OACR,CAAC,MAAO,OAER,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,QAEV,CACE,CAAC,KAAM,MACP,CAAC,MAAO,MACR,CAAC,MAAO,MACR,CAAC,MAAO,MAER,CAAC,KAAM,OACP,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OAER,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,MAER,CAAC,MAAO,OACR,CAAC,MAAO,MACR,CAAC,MAAO,IAER,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,QAEV,CACE,CAAC,KAAM,MACP,CAAC,MAAO,MACR,CAAC,MAAO,MACR,CAAC,MAAO,MACR,CAAC,MAAO,MAER,CAAC,MAAO,OACR,CAAC,KAAM,OACP,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OAER,CAAC,MAAO,MACR,CAAC,MAAO,MACR,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OAER,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OAER,CAAC,MAAO,OACR,CAAC,MAAO,MACR,CAAC,MAAO,QAEV,CACE,CAAC,KAAM,MACP,CAAC,MAAO,MACR,CAAC,MAAO,MACR,CAAC,MAAO,MACR,CAAC,MAAO,MAER,CAAC,KAAM,OACP,CAAC,MAAO,OACR,CAAC,MAAO,MACR,CAAC,MAAO,OACR,CAAC,MAAO,MACR,CAAC,MAAO,OACR,CAAC,MAAO,OAER,CAAC,KAAM,MACP,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,KAAM,OAEP,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,KAAM,OACP,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OAER,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,OAER,CAAC,MAAO,OACR,CAAC,MAAO,OACR,CAAC,MAAO,SAI2BC,KAAI,SAACC,GAAD,OAAeA,EAAUD,KAAI,SAACE,GAAD,MAAY,CAAEN,EAAGM,EAAM,GAAIC,EAAGD,EAAM,UCkM7FE,EAjTmB,CAChC,CACErC,KAAM,2CACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,EAAG,GAChBC,UAAW,OAEb,CACEzC,KAAM,4FACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,EAAG,GAChBC,UAAW,OAEb,CACEzC,KAAM,6EACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,EAAG,GAChBC,UAAW,MAEb,CACEzC,KAAM,mEACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,GAAI,GACjBC,UAAW,OAEb,CACEzC,KAAM,uDACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,GAAI,IACjBC,UAAW,OAEb,CACEzC,KAAM,+CACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,GAAI,GAAI,IAClBC,UAAW,OAEb,CACEzC,KAAM,yCACNsC,MAAO,IACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,OAIb,CACEzC,KAAM,2DACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,EAAG,IAElB,CACExC,KAAM,sGACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,EAAG,GAChBC,UAAW,MAEb,CACEzC,KAAM,mDACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,EAAG,GAChBC,UAAW,OAEb,CACEzC,KAAM,gDACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,GAAI,GACjBC,UAAW,OAEb,CACEzC,KAAM,mCACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,GAAI,IACjBC,UAAW,OAEb,CACEzC,KAAM,oFACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,GAAI,GAAI,IAClBC,UAAW,MAEb,CACEzC,KAAM,gDACNsC,MAAO,IACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,KAEb,CACEzC,KAAM,qDACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,OAGb,CACEzC,KAAM,gCACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,EAAG,GAChBC,UAAW,OAEb,CACEzC,KAAM,sCACNsC,MAAO,KACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,EAAG,GAChBC,UAAW,MAEb,CACEzC,KAAM,sCACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,EAAG,GAChBC,UAAW,QAEb,CACEzC,KAAM,8EACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,GAAI,GACjBC,UAAW,OAEb,CACEzC,KAAM,wCACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,GAAI,IACjBC,UAAW,MAEb,CACEzC,KAAM,6EACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,GAAI,IACjBE,KAAM,iJACND,UAAW,MAEb,CACEzC,KAAM,sDACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,GAAI,GAAI,IAClBC,UAAW,OAEb,CACEzC,KAAM,gDACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,OAEb,CACEzC,KAAM,oDACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,MAEb,CACEzC,KAAM,8EACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,KAErB,CACExC,KAAM,mHACNsC,MAAO,KACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,OAGb,CACEzC,KAAM,uGACNsC,MAAO,KACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,EAAG,GAChBC,UAAW,MAEb,CACEzC,KAAM,yFACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,EAAG,GAChBC,UAAW,MAEb,CACEzC,KAAM,wFACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,GAAI,GACjBC,UAAW,OAEb,CACEzC,KAAM,6EACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,GAAI,IACjBC,UAAW,OAEb,CACEzC,KAAM,uCACNsC,MAAO,KACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,GAAI,IACjBC,UAAW,MAEb,CACEzC,KAAM,kFACNsC,MAAO,IACPC,QAAS,EACTC,KAAM,CAAC,EAAG,EAAG,GAAI,IACjBC,UAAW,MAEb,CACEzC,KAAM,wDACNsC,MAAO,KACPC,QAAS,EACTC,KAAM,CAAC,EAAG,GAAI,GAAI,IAClBC,UAAW,MAEb,CACEzC,KAAM,sDACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,OAEb,CACEzC,KAAM,6IACNsC,MAAO,KACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,OAEb,CACEzC,KAAM,gGACNsC,MAAO,KACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,KAEb,CACEzC,KAAM,yGACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,OAEb,CACEzC,KAAM,gDACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,OAEb,CACEzC,KAAM,qEACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,OAEb,CACEzC,KAAM,yIACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,OAEb,CACEzC,KAAM,qFACNsC,MAAO,MACPC,QAAS,EACTC,KAAM,CAAC,GAAI,GAAI,GAAI,IACnBC,UAAW,QAIyBR,KAAI,SAACU,GAC3C,IAAMC,EAAoBZ,EAASW,EAAEJ,SAC/BM,EAAUF,EAAEH,KAAKP,KAAI,SAACa,GAAD,OAAQF,EAAkBE,MAGrD,OFrSK,SAA4BC,GAAyB,IAAD,EACxBA,EAAOC,QAAO,SAACC,EAAMC,GAAP,MAAiB,CAAErB,EAAGoB,EAAKpB,EAAIqB,EAAKrB,EAAGO,EAAGa,EAAKb,EAAIc,EAAKd,MAA5Fe,EAD8C,EACjDtB,EAAcuB,EADmC,EACtChB,EACbiB,EAAOF,EAASJ,EAAOO,OACvBC,EAAOH,EAASL,EAAOO,OAE7BP,EAAOS,MAAK,SAACC,EAAKC,GAChB,IAAMC,EAAWnC,KAAKoC,MAAMH,EAAIrB,EAAImB,EAAME,EAAI5B,EAAIwB,GAC5CQ,EAAWrC,KAAKoC,MAAMF,EAAItB,EAAImB,EAAMG,EAAI7B,EAAIwB,GAElD,OAAIM,EAAWE,GAAkB,EAC7BF,EAAWE,EAAiB,EACzB,KEwRTC,CAAmBjB,GAEZ,eACFF,EADL,CAEEH,KAAMK,EACNH,KAAMC,EAAED,MAAF,6DAAgEC,EAAE3C,WC3SpE+D,E,IAAAA,MAoBOC,EAlBF,WACX,IAEIC,EAFEnE,EAAiBoE,aAAY,SAACC,GAAD,OAAsBA,EAAMrE,kBAG/D,GAAKA,EAEE,CAAC,IACEE,EAAeF,EAAfE,KAAM0C,EAAS5C,EAAT4C,KACduB,EAAM,uBAAGG,KAAM1B,EAAM2B,IAAI,sBAAsBC,OAAO,UAAUtE,QAHhEiE,EAAM,0FAMR,OACE,kBAACF,EAAD,CAAOQ,MAAO,CAAEC,UAAW,UAAYC,MAAO,GAC3CR,ICdCF,E,IAAAA,MAkCOW,EAhCD,WACZ,IAEIT,EAFEnE,EAAiBoE,aAAY,SAACC,GAAD,OAAsBA,EAAMrE,kBAG/D,GAAKA,EAEE,CAAC,IACEwC,EAAqBxC,EAArBwC,MAAOG,EAAc3C,EAAd2C,UACTkC,EAAW/C,EAAiBU,GAElC,GAAIG,EAAW,CACb,IAAMmC,EAAehD,EAAiBa,GAChCoC,EAAQrD,KAAKC,OAAOgB,EAAYH,GAASG,EAAY,KAE3DwB,EACE,oCACE,0BAAMM,MAAO,CAAEO,eAAgB,iBAA/B,iBAAuDF,IACvD,uDAAeD,EAAf,aAA4BE,EAA5B,aAIJZ,EAAM,qDAAQU,SAhBhBV,EAAM,gDAoBR,OACE,kBAAC,EAAD,CAAOM,MAAO,CAAEC,UAAW,SAAWC,MAAO,GAC1CR,ICGP,IA4Bec,EA5BA,SAAC,GAEF,IADZC,EACW,EADXA,SAAUrE,EACC,EADDA,MAAOE,EACN,EADMA,OAAQoE,EACd,EADcA,QAEnBC,EAAYC,iBAAO,MAEzBC,qBAAU,WACR,IAAMC,EAASH,EAAUI,QACnBC,EAAO,OAAGF,QAAH,IAAGA,OAAH,EAAGA,EAAQG,WAAW,MAE/BH,GAAUE,IACZA,EAAQE,UAAU,EAAG,EAAG9E,EAAOE,GAC/BmE,EAASU,SAAQ,SAAC/C,GAAD,OA9CvB,SAAqBgD,EAA+BC,GAAmB,IAC7DjF,EAAUgF,EAAIN,OAAd1E,MACAE,EAAW8E,EAAIN,OAAfxE,OAER8E,EAAIE,UAAYD,EAAQC,UACxBF,EAAIG,YAAcF,EAAQE,YAC1BH,EAAII,UAAY,EAChBJ,EAAIK,YACJJ,EAAQ5D,SAAS0D,SAAQ,SAAC/C,EAAGsD,GAC3B,IAAMC,EAAQvD,EAAEd,EAAIlB,EAAQ,IACtBwF,EAAQxD,EAAEP,EAAIvB,EAAS,IACnB,IAANoF,EACFN,EAAIS,OAAOF,EAAOC,GAElBR,EAAIU,OAAOH,EAAOC,MAGtBR,EAAIW,YAGJX,EAAIY,OACJZ,EAAIa,OACJb,EAAII,WAAa,EACjBJ,EAAIc,OACJd,EAAIe,SACJf,EAAIgB,UAqBwBC,CAAYrB,EAAS5C,SAE9C,CAAChC,EAAOE,EAAQmE,IAEnB,IAAM6B,EAAWC,uBAAY,SAACC,GAC5B,IAAM9C,EAAM8C,EAAEC,cAAcC,wBACrB,OAAPhC,QAAO,IAAPA,KAAU,CACRpD,EAAGP,GAAQyF,EAAEG,QAAUjD,EAAIkD,MAAQxG,EAAQ,KAC3CyB,EAAGd,GAAQyF,EAAEK,QAAUnD,EAAIoD,KAAOxG,EAAS,SAE5C,CAACoE,EAAStE,EAAOE,IAEpB,OACE,4BAAQyG,IAAKpC,EAAWvE,MAAOA,EAAOE,OAAQA,EAAQoE,QAAS4B,KCtDpD,cAAyB,IAAtBU,EAAqB,EAArBA,QACRvH,EAAeuH,EAAfvH,KAAM0C,EAAS6E,EAAT7E,KACRJ,EAAQV,EAAiB2F,EAAQjF,OAEvC,OACE,uBAAGkF,UAAU,KAAKpD,KAAM1B,EAAM4B,OAAO,SAASD,IAAI,uBAChD,0BAAMmD,UAAU,QAAQxH,GACxB,8BAAOsC,KCPPmF,EAAa,SAACF,EAAkBG,GAAnB,OACjB,kBAAC,EAAD,CAAaH,QAASA,EAASI,IAAKD,KAGhCE,EACJ,yBAAKJ,UAAU,MACb,oDACA,+CAqBWK,EAjBK,SAACC,GAAkB,IAG/BC,EAFeD,EAAbzF,SAEcJ,IAAIwF,GAE1B,OACE,yBAAKD,UAAU,SACb,yBAAKA,UAAU,SACZI,GAEH,yBAAKJ,UAAU,SACZO,KCnBDhE,G,WAAAA,OACAiE,E,IAAAA,OAEFC,EAAYC,MAAMC,KAAKD,MCbA,GDaqBE,QAAQnG,KAAI,SAACU,GAAD,OAC5D,sBAAM0F,KAAN,CAAWV,IAAKhF,GACd,kBAAC,IAAD,CAAM2F,GAAE,oBAAe3F,IACpBA,EAAI,EADP,iCAOE4F,EACJ,2BACGN,GAuCUO,EAnCE,WAAO,IAAD,EACGC,mBAAS,GADZ,mBACdC,EADc,KACRC,EADQ,OAEKF,mBAAS,IAFd,mBAEdG,EAFc,KAEPC,EAFO,KAIfC,EAAapH,IClCW,GACC,GDmCzBqH,EAAgBjC,uBAAY,SAACkC,GACjCH,EAASG,EAAM1E,OAAO2E,OACtBN,EAAQ,KACP,IAEGO,EAAW7G,EAAS8G,QAAO,SAACC,GAAD,OAAOA,EAAEpJ,KAAKqJ,SAAST,MAClDU,EAASJ,EAASK,MAAMT,GAAaJ,EAAO,GAAII,EAAYJ,GAC5Dc,EAAQN,EAAS5F,OAEvB,OACE,oCACE,kBAAC,EAAD,CAAOiB,MAAO,CAAEC,UAAW,UAAYC,MAAO,GAA9C,oDAEE,6BAFF,sCAKA,kBAAC,EAAD,CAAOF,MAAO,CAAEC,UAAW,SAAWC,MAAO,GAA7C,2DACA,yBAAK+C,UAAU,cACb,kBAACQ,EAAD,CAAQyB,YAAY,SAASC,SAAUX,EAAeE,MAAOL,IAC7D,uBAAUe,QAASpB,EAAMqB,UAAU,eACjC,uBAAQC,KAAK,WAAb,2CAGJ,kBAAC,EAAD,CAAaxH,SAAUiH,IACvB,uBAAYI,SAAUf,EAASrD,QAASoD,EAAMc,MAAOA,EAAOM,SAAUhB,EAAWiB,KAAMrI,IAAa,QAAU,c,OEtBpH,IAwCesI,EAxCK,WAClB,IAAMC,EAAWC,cACXpK,EAAiBoE,aAAY,SAACC,GAAD,OAAsBA,EAAMrE,kBAEzDyC,EAAU4H,SAASC,cAAiC7H,SACpD8H,ECzCO,WAAa,IAAD,EACD5B,mBAAS,CAAC,EAAG,IADZ,mBAClBsB,EADkB,KACZO,EADY,KAYzB,OATAC,2BAAgB,WACd,SAASC,IACPF,EAAQ,CAAC1J,OAAOe,WAAYf,OAAO6J,cAIrC,OAFA7J,OAAO8J,iBAAiB,SAAUF,GAClCA,IACO,kBAAM5J,OAAO+J,oBAAoB,SAAUH,MACjD,IAEIT,ED6Baa,GAAgB,GALZ,EAMAnC,mBAAS,CAAE9H,MAAO,IAAKE,OAAQ,MAN/B,mBAMjBkJ,EANiB,KAMXO,EANW,KAOlBO,EAAS1F,iBAAO,MAChB2F,EAAM,UAAMzJ,gBAAN,kBAAsCkB,EAAtC,QAENwI,EAAgBjE,uBAAY,SAACkE,GACjC,IAAMC,EA7BV,SAA4B1I,EAAiByI,GAG3C,OAF0B3I,EAAS8G,QAAO,SAACxG,GAAD,OAAOA,EAAEJ,UAAYA,KACtB2I,MAAK,SAACvI,GAAD,OVEzC,SAAwBI,EAAwBZ,GAErD,IADA,IAAIgJ,EAAU,EACLlF,EAAI,EAAGA,EAAIlD,EAAOO,OAAQ2C,GAAK,EAAG,CACzC,IAAMmF,GAAKnF,EAAI,GAAKlD,EAAOO,OAE3B,GAAKP,EAAOkD,GAAG7D,EAAID,EAAMC,IAAQW,EAAOqI,GAAGhJ,EAAID,EAAMC,EAAI,CACvD,IAAMiJ,GAAOtI,EAAOqI,GAAGvJ,EAAIkB,EAAOkD,GAAGpE,IAAMM,EAAMC,EAAIW,EAAOkD,GAAG7D,IAAMW,EAAOqI,GAAGhJ,EAAIW,EAAOkD,GAAG7D,GAAKW,EAAOkD,GAAGpE,EAExGM,EAAMN,EAAIwJ,IACZF,GAAW,IAIjB,OAAOA,EAAU,EAAI,EUfgCG,CAAe3I,EAAEH,KAAMwI,OACnD,KA0BGO,CAAmBhJ,EAASyI,GACtDf,EAAS9J,EAAkB8K,MAC1B,CAAC1I,EAAS0H,IAEb7E,qBAAU,WACR,IAAMoG,EAAMX,EAAOvF,QACnB,GAAIkG,EAAK,CACP,IAAMC,EAAYjK,KAAKC,MAAwB,OAAlB+J,EAAIE,aACjCpB,EAAQ,CAAE3J,MAAO6K,EAAIE,YAAa7K,OAAQ4K,OAE3C,CAACpB,IAEJ,IAAMrF,EAAW2G,mBAAQ,kBAnC3B,SAAiC7L,GAC/B,OAAKA,EAIE,CAAC,CACNkC,SAAUlC,EAAe0C,KACzBqD,UAAW,cACXC,YAAa,SANN,GAiCsB8F,CAAwB9L,KAAiB,CAACA,IAEzE,OACE,oCACE,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,yBACEwH,IAAKuD,EACLrD,UAAU,oBACVjD,MAAO,CAAEsH,gBAAgB,OAAD,OAASf,EAAT,KAAoBjK,OAAQkJ,EAAKlJ,SAEzD,kBAAC,EAAD,CAAQmE,SAAUA,EAAUC,QAAS8F,EAAepK,MAAOoJ,EAAKpJ,MAAOE,OAAQkJ,EAAKlJ,YErD7EiL,EAZH,kBACV,6BACE,kBAAC,IAAD,CAAeC,SAAU1K,iBACvB,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAO2K,OAAK,EAACC,KAAK,IAAIC,UAAW1D,IACjC,kBAAC,IAAD,CAAOyD,KAAK,qBAAqBC,UAAWlC,IAC5C,kBAAC,IAAD,CAAOmC,OAAQ,kBAAM,kBAAC,IAAD,CAAU7D,GAAG,a,OCL1C8D,IAASD,OACP,kBAAC,IAAD,CAAUlL,MAAOA,GACf,kBAAC,EAAD,OAEFoL,SAASC,eAAe,W","file":"static/js/main.f009540e.chunk.js","sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { Product } from 'src/models';\n\nconst clickedProduct = createSlice({\n  name: 'clickedProduct',\n  initialState: null as Product | null,\n  reducers: {\n    setClickedProduct(_, action: PayloadAction<Product | null>) {\n      return action.payload;\n    },\n  },\n});\n\nexport const { setClickedProduct } = clickedProduct.actions;\nexport default clickedProduct.reducer;\n","import { createSlice, PayloadAction } from '@reduxjs/toolkit';\nimport { RealCoord } from 'src/models';\n\nconst clickedCoord = createSlice({\n  name: 'clickedCoord',\n  initialState: null as RealCoord | null,\n  reducers: {\n    setClickedCoord(_, action: PayloadAction<RealCoord | null>) {\n      return action.payload;\n    },\n  },\n});\n\nexport const { setClickedCoord } = clickedCoord.actions;\nexport default clickedCoord.reducer;\n","import { createSlice } from '@reduxjs/toolkit';\n\nconst screen = createSlice({\n  name: 'screen',\n  initialState: { width: window.screen.width, height: window.screen.height },\n  reducers: {\n    setScreen() {\n      return { width: window.screen.width, height: window.screen.height };\n    },\n  },\n});\n\nexport const { setScreen } = screen.actions;\nexport default screen.reducer;\n","import { combineReducers } from '@reduxjs/toolkit';\n\nimport clickedProduct from './clicked-product';\nimport clickedCoord from './clicked-coord';\nimport screen from './screen';\n\nconst rootReducer = combineReducers({\n  clickedProduct,\n  clickedCoord,\n  screen,\n});\n\nexport type RootState = ReturnType<typeof rootReducer>;\n\nexport default rootReducer;\n","import { configureStore } from '@reduxjs/toolkit';\n\nimport rootReducer from './reducers';\n\nconst store = configureStore({\n  reducer: rootReducer,\n  devTools: process.env.NODE_ENV !== 'production',\n});\n\nexport type AppDispatch = typeof store.dispatch;\n\nexport default store;\n","import { PercentCoord } from 'src/models';\n\nexport const floor2 = (n: number) => Math.floor(n * 100) / 100;\nexport const isMobile = () => window.innerWidth < 768;\n\nexport function numberWithCommas(x: number): string {\n  return x.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, ',');\n}\n\nexport function sortCoordClockwise(coords: PercentCoord[]) {\n  const { x: totalX, y: totalY } = coords.reduce((prev, curr) => ({ x: prev.x + curr.x, y: prev.y + curr.y }));\n  const avgX = totalX / coords.length;\n  const avgY = totalY / coords.length;\n\n  coords.sort((lhs, rhs) => {\n    const lhsAngle = Math.atan2(lhs.y - avgY, lhs.x - avgX);\n    const rhsAngle = Math.atan2(rhs.y - avgY, rhs.x - avgX);\n\n    if (lhsAngle < rhsAngle) return -1;\n    if (lhsAngle > rhsAngle) return 1;\n    return 0;\n  });\n}\n\nexport function coordInPolygon(coords: PercentCoord[], point: PercentCoord): boolean {\n  let crosses = 0;\n  for (let i = 0; i < coords.length; i += 1) {\n    const j = (i + 1) % coords.length;\n\n    if ((coords[i].y > point.y) !== (coords[j].y > point.y)) {\n      const atX = (coords[j].x - coords[i].x) * (point.y - coords[i].y) / (coords[j].y - coords[i].y) + coords[i].x;\n\n      if (point.x < atX) {\n        crosses += 1;\n      }\n    }\n  }\n  return crosses % 2 > 0;\n}\n\n/*\nexport function percentToRealCoord(canvasProperty: CanvasProperty, coord: PercentCoord): RealCoord {\n  return {\n    x: Math.floor(coord.x * canvasProperty.imgWidth / 100 + canvasProperty.imgLeftMargin),\n    y: Math.floor(coord.y * canvasProperty.imgHeight / 100 + canvasProperty.imgTopMargin),\n  };\n}\n\nexport function realToPercentCoord(canvasProperty: CanvasProperty, coord: RealCoord): PercentCoord {\n  return {\n    x: floor2((coord.x - canvasProperty.imgLeftMargin) / canvasProperty.imgWidth * 100),\n    y: floor2((coord.y - canvasProperty.imgTopMargin) / canvasProperty.imgHeight * 100),\n  };\n}\n\nexport function calcCanvasProperty(canvasWidth: number, canvasHeight: number, originImgWidth: number, originImgHeight: number): CanvasProperty {\n  let imgHeight; let imgWidth; let imgLeftMargin; let imgTopMargin;\n\n  if (originImgHeight * canvasWidth > originImgWidth * canvasHeight) {\n    imgHeight = canvasHeight;\n    imgWidth = canvasHeight * originImgWidth / originImgHeight;\n    imgLeftMargin = (canvasWidth - imgWidth) / 2;\n    imgTopMargin = 0;\n  } else {\n    imgHeight = canvasWidth * originImgHeight / originImgWidth;\n    imgWidth = canvasWidth;\n    imgLeftMargin = 0;\n    imgTopMargin = (canvasHeight - imgHeight) / 2;\n  }\n\n  return {\n    canvasWidth,\n    canvasHeight,\n    imgWidth,\n    imgHeight,\n    imgLeftMargin,\n    imgTopMargin,\n  };\n}\n*/\n","import { PercentCoord } from 'src/models';\n\nconst tmp: [number, number][][] = [\n  [\n    [4.78, 7.79],\n    [35.14, 8.41],\n    [60.56, 7.92],\n    [81.35, 8.16],\n\n    [8.58, 25.12],\n    [34.81, 24.75],\n    [46.86, 25.61],\n    [59.73, 24.87],\n    [80.03, 24.87],\n\n    [12.7, 56.06],\n    [44.22, 55.94],\n    [77.39, 55.69],\n\n    [17.65, 94.18],\n    [52.64, 93.93],\n    [75.57, 93.81],\n  ],\n  [\n    [7.99, 5.24],\n    [37.71, 5.48],\n    [69.51, 5.48],\n    [86.22, 5.48],\n\n    [9.75, 24.64],\n    [35.94, 24.88],\n    [68.71, 24.64],\n    [84.13, 24.64],\n\n    [12.16, 51.75],\n    [39.63, 52.35],\n    [80.12, 53.2],\n\n    [14.57, 75.48],\n    [40.44, 75.6],\n    [78.51, 75],\n\n    [16.34, 96.57],\n    [45.58, 95.97],\n    [77.38, 97.41],\n  ],\n  [\n    [9.35, 2.47],\n    [31.04, 2.35],\n    [40.04, 2.35],\n    [49.19, 2.23],\n    [86.62, 1.39],\n\n    [12.08, 24.04],\n    [31.2, 24.16],\n    [37.46, 24.76],\n    [48.39, 24.64],\n    [67.51, 25.12],\n    [85.18, 24.64],\n\n    [14.65, 55.6],\n    [42.77, 55.6],\n    [48.71, 56.57],\n    [67.67, 56.21],\n    [82.44, 56.57],\n\n    [16.74, 73.68],\n    [46.46, 74.16],\n    [79.87, 74.64],\n\n    [18.51, 92.95],\n    [44.21, 93.2],\n    [77.14, 94.28],\n  ],\n  [\n    [7.34, 1.03],\n    [30.48, 1.03],\n    [50.88, 1.03],\n    [68.07, 1.75],\n    [84.93, 1.75],\n\n    [7.99, 14.76],\n    [30.32, 15.36],\n    [37.22, 15.6],\n    [50.72, 15.73],\n    [59.87, 15.6],\n    [68.07, 15.73],\n    [83.65, 15.97],\n\n    [9.91, 34.4],\n    [25.98, 35.36],\n    [38.03, 35.36],\n    [50.72, 35.48],\n    [59.39, 35.12],\n    [81.4, 35.24],\n\n    [12.65, 56.69],\n    [25.02, 56.45],\n    [36.1, 57.05],\n    [50.56, 56.93],\n    [58.91, 57.17],\n    [78.67, 57.29],\n\n    [13.93, 74.88],\n    [35.78, 74.88],\n    [50.56, 75.48],\n    [58.43, 74.64],\n    [76.74, 74.52],\n\n    [15.22, 94.76],\n    [50.56, 95.36],\n    [73.85, 95.48],\n  ],\n];\n\nconst vertices: PercentCoord[][] = tmp.map((innerList) => innerList.map((point) => ({ x: point[0], y: point[1] })));\n\nexport default vertices;\n","import { ProductDAO, Product } from 'src/models';\nimport { sortCoordClockwise } from 'src/utils';\nimport vertices from './vertices';\n\nconst productsDAO: ProductDAO[] = [\n  {\n    name: '하루홍삼 10ml x 30포',\n    price: 24500,\n    section: 0,\n    area: [0, 1, 5, 4],\n    realPrice: 16910,\n  },\n  {\n    name: '한삼인 주머니 속 홍삼정스틱 10ml 30포',\n    price: 26400,\n    section: 0,\n    area: [1, 2, 7, 5],\n    realPrice: 77500,\n  },\n  {\n    name: '6년근 로얄 고려 홍삼 스틱 32포',\n    price: 15900,\n    section: 0,\n    area: [2, 3, 8, 7],\n    realPrice: 22000,\n  },\n  {\n    name: '발효홍삼홍칸똘이 20ml x 30포',\n    price: 37600,\n    section: 0,\n    area: [4, 6, 10, 9],\n    realPrice: 158000,\n  },\n  {\n    name: '홍삼이랑쑥쑥 30ml * 28포',\n    price: 31680,\n    section: 0,\n    area: [6, 8, 11, 10],\n    realPrice: 45140,\n  },\n  {\n    name: '홍삼원세트 50ml 60포',\n    price: 30310,\n    section: 0,\n    area: [9, 10, 13, 12],\n    realPrice: 37410,\n  },\n  {\n    name: '홍삼보운 40ml 30포',\n    price: 40000,\n    section: 0,\n    area: [10, 11, 14, 13],\n    realPrice: 46660,\n  },\n\n\n  {\n    name: '공진녹 원기녹용 10g 30포',\n    price: 79800,\n    section: 1,\n    area: [0, 1, 5, 4],\n  },\n  {\n    name: '한삼인 로얄홍삼캡슐정VIP 900ml 30캡슐 4개입',\n    price: 20300,\n    section: 1,\n    area: [1, 2, 6, 5],\n    realPrice: 57000,\n  },\n  {\n    name: '한삼인 홍삼정심 100g',\n    price: 12480,\n    section: 1,\n    area: [2, 3, 7, 6],\n    realPrice: 49890,\n  },\n  {\n    name: '홍삼원골드 100ml 24포',\n    price: 29970,\n    section: 1,\n    area: [4, 7, 10, 8],\n    realPrice: 21590,\n  },\n  {\n    name: '활기력 20ml 16병',\n    price: 24940,\n    section: 1,\n    area: [8, 9, 12, 11],\n    realPrice: 38830,\n  },\n  {\n    name: '뿌리의힘 산감배양근 20ml 30바이알',\n    price: 44400,\n    section: 1,\n    area: [9, 10, 13, 12],\n    realPrice: 42000,\n  },\n  {\n    name: '홍천톤 골드 50ml 60포',\n    price: 30000,\n    section: 1,\n    area: [11, 12, 15, 14],\n    realPrice: 100000,\n  },\n  {\n    name: '홍삼녹용진액 80ml 60포',\n    price: 39600,\n    section: 1,\n    area: [12, 13, 16, 15],\n    realPrice: 198000,\n  },\n\n  {\n    name: '홍삼진고 250g',\n    price: 42250,\n    section: 2,\n    area: [0, 1, 6, 5],\n    realPrice: 39195,\n  },\n  {\n    name: '진쎈흑삼력 120g',\n    price: 66000,\n    section: 2,\n    area: [1, 2, 7, 6],\n    realPrice: 84000,\n  },\n  {\n    name: '황작홍삼정 240g',\n    price: 93460,\n    section: 2,\n    area: [2, 3, 8, 7],\n    realPrice: 157430,\n  },\n  {\n    name: '액티브 프로바이오틱스 2g x 60포',\n    price: 14850,\n    section: 2,\n    area: [3, 4, 10, 8],\n    realPrice: 24570,\n  },\n  {\n    name: '진품홍삼 120g 3병',\n    price: 49200,\n    section: 2,\n    area: [5, 7, 12, 11],\n    realPrice: 99000,\n  },\n  {\n    name: '홍삼본가 홍삼녹용골드 250g 2병',\n    price: 49700,\n    section: 2,\n    area: [7, 9, 14, 12],\n    link: 'http://martlee21c.cafe24.com/product/%ED%99%8D%EC%82%BC%EB%B3%B8%EA%B0%80-%ED%99%8D%EC%82%BC%EB%85%B9%EC%9A%A9%EC%A0%95-%EA%B3%A8%EB%93%9C/42/',\n    realPrice: 240000,\n  },\n  {\n    name: '레모나에스산 1.5g 200포',\n    price: 18150,\n    section: 2,\n    area: [9, 10, 15, 14],\n    realPrice: 29440,\n  },\n  {\n    name: '황제침향단 3.75g 60환',\n    price: 45900,\n    section: 2,\n    area: [11, 13, 17, 16],\n    realPrice: 49900,\n  },\n  {\n    name: '배도라지스틱 10g 60포',\n    price: 24900,\n    section: 2,\n    area: [13, 15, 18, 17],\n    realPrice: 37000,\n  },\n  {\n    name: '한삼인 백세홍삼플러스 70ml 60포',\n    price: 35900,\n    section: 2,\n    area: [16, 17, 20, 19],\n  },\n  {\n    name: '애플트리 순도라지배즙과산삼배양근 100ml 30포',\n    price: 22000,\n    section: 2,\n    area: [17, 18, 21, 20],\n    realPrice: 43610,\n  },\n\n  {\n    name: '네이처셋 혈행에 좋은 오메가Q 1000mg x 30캡슐',\n    price: 4700,\n    section: 3,\n    area: [0, 1, 6, 5],\n    realPrice: 9310,\n  },\n  {\n    name: '항산화 건강 프로폴리스 솔루션 180g',\n    price: 20700,\n    section: 3,\n    area: [1, 2, 8, 6],\n    realPrice: 49000,\n  },\n  {\n    name: '테아닌과 밀크씨슬 활력 솔루션 60g',\n    price: 12900,\n    section: 3,\n    area: [2, 3, 10, 8],\n    realPrice: 23290,\n  },\n  {\n    name: '슈퍼 장 건강 유산균 솔루션 30g',\n    price: 13800,\n    section: 3,\n    area: [3, 4, 11, 10],\n    realPrice: 23410,\n  },\n  {\n    name: '레모나산 2g 10포',\n    price: 1550,\n    section: 3,\n    area: [5, 7, 14, 12],\n    realPrice: 1930,\n  },\n  {\n    name: '생유산균 가득 냠냠 요구르트 15g',\n    price: 860,\n    section: 3,\n    area: [7, 9, 16, 14],\n    realPrice: 1640,\n  },\n  {\n    name: '함소아오비타 1.43g x 15정',\n    price: 1300,\n    section: 3,\n    area: [9, 11, 17, 16],\n    realPrice: 1400,\n  },\n  {\n    name: '레모나에스산 1.5g 200포',\n    price: 18150,\n    section: 3,\n    area: [12, 13, 19, 18],\n    realPrice: 29440,\n  },\n  {\n    name: '내몸애 발란스 멀티비타민 앤 미네랄파워업(30정 X 3개입)',\n    price: 9900,\n    section: 3,\n    area: [13, 15, 21, 19],\n    realPrice: 29800,\n  },\n  {\n    name: '내몸애 발란스 관절액션 MSM (30정 X 3개입)',\n    price: 9900,\n    section: 3,\n    area: [15, 17, 23, 21],\n    realPrice: 30000,\n  },\n  {\n    name: '정관장 알파프로젝트 뉴트리팩 600mg 120캡슐',\n    price: 28490,\n    section: 3,\n    area: [18, 20, 25, 24],\n    realPrice: 69300,\n  },\n  {\n    name: '관절살리도 610mg 42정',\n    price: 34900,\n    section: 3,\n    area: [20, 22, 27, 25],\n    realPrice: 58310,\n  },\n  {\n    name: '롯데헬스원 오메가세트 194g',\n    price: 28300,\n    section: 3,\n    area: [22, 23, 28, 27],\n    realPrice: 34880,\n  },\n  {\n    name: '애플트리 베리 석류 진액골드 유기농 석류즙100 (70ml x 30포)',\n    price: 19500,\n    section: 3,\n    area: [24, 26, 30, 29],\n    realPrice: 62100,\n  },\n  {\n    name: '내몸애 생발란스 석류진액 70ml 30포',\n    price: 22800,\n    section: 3,\n    area: [26, 28, 31, 30],\n    realPrice: 62250,\n  },\n];\n\nconst products: Product[] = productsDAO.map((v) => {\n  const verticesInSection = vertices[v.section];\n  const newArea = v.area.map((v2) => verticesInSection[v2]);\n  sortCoordClockwise(newArea);\n\n  return {\n    ...v,\n    area: newArea,\n    link: v.link || `https://search.shopping.naver.com/search/all?query=${v.name}`,\n  };\n});\n\nexport default products;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Typography } from 'antd';\n\nimport { RootState } from 'src/redux';\n\nconst { Title } = Typography;\n\nconst Name = () => {\n  const clickedProduct = useSelector((state: RootState) => state.clickedProduct);\n\n  let tmp;\n  if (!clickedProduct) {\n    tmp = <>상품을 클릭하세요!</>;\n  } else {\n    const { name, link } = clickedProduct;\n    tmp = <a href={link} rel=\"noopener noreferrer\" target=\"_blank\">{name}</a>;\n  }\n\n  return (\n    <Title style={{ textAlign: 'center' }} level={4}>\n      {tmp}\n    </Title>\n  );\n};\n\nexport default Name;\n","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Typography } from 'antd';\n\nimport { RootState } from 'src/redux';\nimport { numberWithCommas } from 'src/utils';\n\nconst { Title } = Typography;\n\nconst Price = () => {\n  const clickedProduct = useSelector((state: RootState) => state.clickedProduct);\n\n  let tmp;\n  if (!clickedProduct) {\n    tmp = <>₩ 0</>;\n  } else {\n    const { price, realPrice } = clickedProduct;\n    const priceStr = numberWithCommas(price);\n\n    if (realPrice) {\n      const realPriceStr = numberWithCommas(realPrice);\n      const ratio = Math.floor((realPrice - price) / realPrice * 100);\n\n      tmp = (\n        <>\n          <span style={{ textDecoration: 'line-through' }}>{`₩ ${realPriceStr}`}</span>\n          <span>{` → ₩ ${priceStr} (${ratio}%)`}</span>\n        </>\n      );\n    } else {\n      tmp = <>{`₩ ${priceStr}`}</>;\n    }\n  }\n\n  return (\n    <Title style={{ textAlign: 'right' }} level={4}>\n      {tmp}\n    </Title>\n  );\n};\n\nexport default Price;\n","import React, { useRef, useEffect, useCallback } from 'react';\nimport { Polygon, PercentCoord } from 'src/models';\nimport { floor2 } from 'src/utils';\n\nfunction drawPolygon(ctx: CanvasRenderingContext2D, polygon: Polygon) {\n  const { width } = ctx.canvas;\n  const { height } = ctx.canvas;\n\n  ctx.fillStyle = polygon.fillStyle;\n  ctx.strokeStyle = polygon.strokeStyle;\n  ctx.lineWidth = 2;\n  ctx.beginPath();\n  polygon.vertices.forEach((v, i) => {\n    const realX = v.x * width / 100;\n    const realY = v.y * height / 100;\n    if (i === 0) {\n      ctx.moveTo(realX, realY);\n    } else {\n      ctx.lineTo(realX, realY);\n    }\n  });\n  ctx.closePath();\n\n  // draw stroke inside\n  ctx.save();\n  ctx.clip();\n  ctx.lineWidth *= 2;\n  ctx.fill();\n  ctx.stroke();\n  ctx.restore();\n}\n\ninterface Props {\n  polygons: Polygon[];\n  width: number;\n  height: number;\n  onClick?: (coord: PercentCoord) => void;\n}\n\nconst Canvas = ({\n  polygons, width, height, onClick,\n}: Props) => {\n  const canvasRef = useRef(null as HTMLCanvasElement | null);\n\n  useEffect(() => {\n    const canvas = canvasRef.current;\n    const context = canvas?.getContext('2d');\n\n    if (canvas && context) {\n      context.clearRect(0, 0, width, height);\n      polygons.forEach((v) => drawPolygon(context, v));\n    }\n  }, [width, height, polygons]);\n\n  const onClick2 = useCallback((e) => {\n    const tmp = e.currentTarget.getBoundingClientRect();\n    onClick?.({\n      x: floor2((e.clientX - tmp.left) / width * 100),\n      y: floor2((e.clientY - tmp.top) / height * 100),\n    });\n  }, [onClick, width, height]);\n\n  return (\n    <canvas ref={canvasRef} width={width} height={height} onClick={onClick2} />\n  );\n};\n\nexport default Canvas;\n","import React from 'react';\n\nimport { Product } from 'src/models';\nimport { numberWithCommas } from 'src/utils';\n\ninterface Props {\n  product: Product;\n}\n\nexport default ({ product }: Props) => {\n  const { name, link } = product;\n  const price = numberWithCommas(product.price);\n\n  return (\n    <a className=\"tr\" href={link} target=\"_blank\" rel=\"noopener noreferrer\">\n      <span className=\"name\">{name}</span>\n      <span>{price}</span>\n    </a>\n  );\n};\n","import React from 'react';\n\nimport { Product } from 'src/models';\nimport ProductItem from './product-item';\n\ninterface Props {\n  products: Product[];\n}\n\nconst renderItem = (product: Product, index: number) => (\n  <ProductItem product={product} key={index} />\n);\n\nconst header = (\n  <div className=\"tr\">\n    <span>제품명</span>\n    <span>가격</span>\n  </div>\n);\n\nconst ProductList = (props: Props) => {\n  const { products } = props;\n\n  const list = products.map(renderItem);\n\n  return (\n    <div className=\"table\">\n      <div className=\"thead\">\n        {header}\n      </div>\n      <div className=\"tbody\">\n        {list}\n      </div>\n    </div>\n  );\n};\n\nexport default ProductList;\n","import React, { useState, useCallback } from 'react';\nimport {\n  Typography, Input, Pagination, Button, Dropdown, Menu,\n} from 'antd';\nimport { Link } from 'react-router-dom';\n\nimport { products } from 'src/data';\nimport { MOBILE_PAGE_SIZE, DESKTOP_PAGE_SIZE, TOTAL_SECTION } from 'src/envs';\nimport { ProductList } from 'src/components';\nimport './home.scss';\nimport { isMobile } from 'src/utils';\n\nconst { Title } = Typography;\nconst { Search } = Input;\n\nconst menuItems = Array.from(Array(TOTAL_SECTION).keys()).map((v) => (\n  <Menu.Item key={v}>\n    <Link to={`/sections/${v}`}>\n      {v + 1}\n      번째 선반\n    </Link>\n  </Menu.Item>\n));\n\nconst menu = (\n  <Menu>\n    {menuItems}\n  </Menu>\n);\n\nconst HomePage = () => {\n  const [page, setPage] = useState(1);\n  const [query, setQuery] = useState('');\n\n  const PAGE_SIZE = (isMobile()) ? MOBILE_PAGE_SIZE : DESKTOP_PAGE_SIZE;\n\n  const onQueryChange = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\n    setQuery(event.target.value);\n    setPage(1);\n  }, []);\n\n  const filtered = products.filter((p) => p.name.includes(query));\n  const sliced = filtered.slice(PAGE_SIZE * (page - 1), PAGE_SIZE * page);\n  const total = filtered.length;\n\n  return (\n    <>\n      <Title style={{ textAlign: 'center' }} level={2}>\n        국방부 근무지원단\n        <br />\n        PX 화장품 목록\n      </Title>\n      <Title style={{ textAlign: 'right' }} level={4}>마지막 업데이트: 2020-08-10</Title>\n      <div className=\"search-bar\">\n        <Search enterButton=\"Search\" onChange={onQueryChange} value={query} />\n        <Dropdown overlay={menu} placement=\"bottomRight\">\n          <Button type=\"primary\">사진으로 찾기</Button>\n        </Dropdown>\n      </div>\n      <ProductList products={sliced} />\n      <Pagination onChange={setPage} current={page} total={total} pageSize={PAGE_SIZE} size={isMobile() ? 'small' : 'default'} />\n    </>\n  );\n};\n\nexport default HomePage;\n","export const MOBILE_PAGE_SIZE = 10;\nexport const DESKTOP_PAGE_SIZE = 15;\nexport const TOTAL_SECTION = 7;\n","import React, {\n  useMemo, useCallback, useState, useRef, useEffect,\n} from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useParams } from 'react-router-dom';\nimport './section.scss';\n\nimport { Name, Price, Canvas } from 'src/components';\nimport { setClickedProduct } from 'src/redux/clicked-product';\nimport { PercentCoord, Product, Polygon } from 'src/models';\nimport { useWindowSize } from 'src/hooks';\nimport { coordInPolygon } from 'src/utils';\nimport { products } from 'src/data';\nimport { RootState } from 'src/redux';\n\ninterface Size {\n  width: number;\n  height: number;\n}\n\nfunction findClickedProduct(section: number, coord: PercentCoord): Product | null {\n  const productsInSection = products.filter((v) => v.section === section);\n  const clickedProduct = productsInSection.find((v) => coordInPolygon(v.area, coord));\n  return clickedProduct || null;\n}\n\nfunction clickedProductToPolygon(clickedProduct: Product | null): Polygon[] {\n  if (!clickedProduct) {\n    return [];\n  }\n\n  return [{\n    vertices: clickedProduct.area,\n    fillStyle: 'transparent',\n    strokeStyle: 'cyan',\n  }];\n}\n\nconst SectionPage = () => {\n  const dispatch = useDispatch();\n  const clickedProduct = useSelector((state: RootState) => state.clickedProduct);\n\n  const section = parseInt(useParams<{ section: string }>().section);\n  const windowWidth = useWindowSize()[0];\n  const [size, setSize] = useState({ width: 100, height: 100 } as Size);\n  const divRef = useRef(null as HTMLDivElement | null);\n  const imgSrc = `${process.env.PUBLIC_URL}/img/00${section}.jpg`;\n\n  const onCanvasClick = useCallback((coord: PercentCoord) => {\n    const newClickedProduct = findClickedProduct(section, coord);\n    dispatch(setClickedProduct(newClickedProduct));\n  }, [section, dispatch]);\n\n  useEffect(() => {\n    const div = divRef.current;\n    if (div) {\n      const newHeight = Math.floor(div.clientWidth * 1.3333);\n      setSize({ width: div.clientWidth, height: newHeight });\n    }\n  }, [windowWidth]);\n\n  const polygons = useMemo(() => clickedProductToPolygon(clickedProduct), [clickedProduct]);\n\n  return (\n    <>\n      <Name />\n      <Price />\n      <div\n        ref={divRef}\n        className=\"section-image-div\"\n        style={{ backgroundImage: `url(${imgSrc})`, height: size.height }}\n      >\n        <Canvas polygons={polygons} onClick={onCanvasClick} width={size.width} height={size.height} />\n      </div>\n    </>\n  );\n};\n\nexport default SectionPage;\n","import { useLayoutEffect, useState } from 'react';\n\nexport default function () {\n  const [size, setSize] = useState([0, 0]);\n\n  useLayoutEffect(() => {\n    function updateSize() {\n      setSize([window.innerWidth, window.innerHeight]);\n    }\n    window.addEventListener('resize', updateSize);\n    updateSize();\n    return () => window.removeEventListener('resize', updateSize);\n  }, []);\n\n  return size;\n}\n","import React from 'react';\nimport {\n  Switch, Route, BrowserRouter, Redirect,\n} from 'react-router-dom';\n\nimport { HomePage, SectionPage } from 'src/pages';\n\nconst App = () => (\n  <div>\n    <BrowserRouter basename={process.env.PUBLIC_URL}>\n      <Switch>\n        <Route exact path=\"/\" component={HomePage} />\n        <Route path=\"/sections/:section\" component={SectionPage} />\n        <Route render={() => <Redirect to=\"/\" />} />\n      </Switch>\n    </BrowserRouter>\n  </div>\n);\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\n\nimport store from 'src/redux/store';\nimport App from 'src/App';\nimport './index.scss';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}